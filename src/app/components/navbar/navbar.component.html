<header [ngClass]="{
  'fixed top-0 left-0 right-0 z-40 py-2 sm:py-3 md:py-4 transition-all duration-300 bg-gradient-to-b from-gray-500/95 to-gray-600/95 backdrop-blur-md shadow-lg border-b border-gray-400/50': true,
  'shadow-xl': isScrolled
}">
  <div class="container flex items-center justify-between px-4 sm:px-6 lg:px-8">
    <a 
      (click)="scrollToTop()" 
      class="flex items-center space-x-2 cursor-pointer"
      aria-label="Mata Medical Data"
    >
      <img 
        src="assets/lovable-uploads/a03498d1-c8e9-4fd1-8060-e49932eee010.png" 
        alt="Logo Mata Medical Data" 
        class="h-10 sm:h-12 md:h-14" 
      />
    </a>

    <!-- Desktop Navigation -->
    <nav class="hidden md:flex space-x-8">
      <a (click)="navigateTo('/')" class="nav-link-header">Home</a>
      <!-- <a href="#made-by-humans" class="nav-link-header">Concept</a> -->
      <a href="#expert-committee" class="nav-link-header">Comité scientifique</a>
      <a href="#features" class="nav-link-header">Capacités</a>
      <a href="#trust-database" class="nav-link-header">Base de données</a>
      <a href="#testimonials" class="nav-link-header">Témoignages</a>
      <a href="#details" class="nav-link-header">Démonstration</a>
      <a (click)="navigateTo('/about')" class="nav-link-header">À propos</a>
      <a (click)="navigateTo('/demo')" class="nav-link-header">Démo interactive</a>
    </nav>

    <!-- Language Selector -->
    <div class="container-global">
      <div class="language-selector">
        <img src="assets/login-image/world-language.svg" alt="Language Icon" class="language-icon">
        <select (change)="ChangeLang($event)" class="language-select">
          <option [selected]="lang==='fr'" value="fr">{{ "languages.fr" | translate }}</option>
          <option [selected]="lang==='en'" value="en">{{ "languages.en" | translate }}</option>
          <option [selected]="lang==='es'" value="es">{{ "languages.es" | translate }}</option>
          <option [selected]="lang==='it'" value="it">{{ "languages.it" | translate }}</option>
          <option [selected]="lang==='jp'" value="jp">{{ "languages.jp" | translate }}</option>
          <option [selected]="lang==='ar'" value="ar">{{ "languages.ar" | translate }}</option>
        </select>      
      </div>
    </div>

    <!-- Mobile menu button -->
    <button 
      class="md:hidden text-gray-200 hover:text-white p-3 focus:outline-none" 
      (click)="toggleMenu()"
      [attr.aria-label]="isMenuOpen ? 'Close menu' : 'Open menu'"
    >
      <svg *ngIf="!isMenuOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
      <svg *ngIf="isMenuOpen" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>
  </div>

  <!-- Mobile Navigation Wrapper -->
<div class="fixed inset-0 z-40 md:hidden" *ngIf="isMenuOpen">
  <!-- Overlay -->
  <div 
    class="absolute inset-0 bg-black/50 transition-opacity duration-300"
    (click)="closeMobileMenu()"
  ></div>

  <!-- Panel -->
  <div class="absolute inset-y-0 right-0 w-3/4 bg-gray-800 bg-opacity-100 text-white flex flex-col pt-16 px-6 transition-transform duration-300 ease-in-out z-40">
    <button 
      class="self-end text-gray-200 hover:text-white p-3 mb-4 focus:outline-none" 
      (click)="closeMobileMenu()"
      aria-label="Close menu"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>

    <nav class="flex flex-col space-y-8 items-center mt-4">
      <a *ngFor="let item of [
        { label: 'Home', href: '/' },
        { label: 'Concept', href: '#made-by-humans' },
        { label: 'Comité scientifique', href: '#expert-committee' },
        { label: 'Capacités', href: '#features' },
        { label: 'Base de données', href: '#trust-database' },
        { label: 'Témoignages', href: '#testimonials' },
        { label: 'Démonstration', href: '#details' },
        { label: 'À propos', href: '/about' },
        { label: 'Démo interactive', href: '/demo' }
      ]" 
      class="text-xl font-medium py-3 px-6 w-full text-center rounded-lg text-gray-200 hover:text-white hover:bg-gray-400/50 cursor-pointer"
      (click)="item.href.startsWith('/') ? navigateTo(item.href) : closeMobileMenu()">
        {{ item.label }}
      </a>
    </nav>
  </div>
</div>


</header>
